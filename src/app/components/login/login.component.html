<form class="form-login">
  <div class="card card-container">
    <h2 class="form-login-heading">sign in now</h2>

    <form *ngIf="!isLoggedIn" name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
      <div class="login-wrap">
        <div>
          <input type="text" class="form-control" name="username" [(ngModel)]="form.username" required minlength="3"
            maxlength="20" #username="ngModel" placeholder="Username" autofocus=""
            [class.is-invalid]="username.invalid && username.touched" />
          <div *ngIf="username.errors && (username.invalid || username.touched)">
            <small class="text-danger" *ngIf="username.errors.required" [class.d-none]=" username.untouched"
              style="font-size: 11px;"> Username is required</small>
            <small class="text-danger" *ngIf="username.errors.minlength" [class.d-none]=" username.untouched"
              style="font-size: 11px;"> Username must be at least 3 characters</small>
            <small class="text-danger" *ngIf="username.errors.maxlength" [class.d-none]=" username.untouched"
              style="font-size: 11px;"> Username must be at most 20 characters</small>
          </div>

        </div>
        <br>
        <div>

          <input type="password" class="form-control" name="password" [(ngModel)]="form.password" required minlength="6"
            #password="ngModel" [class.is-invalid]="password.invalid && password.touched" placeholder="Password" />

          <div *ngIf="password.errors && (password.invalid || password.touched)">
            <small class="text-danger" *ngIf="password.errors.required" [class.d-none]=" password.untouched"
              style="font-size: 11px;"> Password is required</small>
            <small class="text-danger" *ngIf="password.errors.minlength" [class.d-none]=" password.untouched"
              style="font-size: 11px;"> Password must be at least 6 characters</small>
          </div>


        </div>
        <div>
          <div>
            <label class="checkbox">
              <input type="checkbox" value="remember-me">
              <h3> Remember me</h3>
            </label>
          </div>
        </div>
<div>
  <button type="button" class="btn btn-link px-0" data-toggle="modal"
                        data-target="#exampleModal">Forgot password?</button>
</div>
        <div>
          <button class="btn btn-theme btn-block" (click)="onSubmit()" type="button">
            <i class="fa fa-lock"></i> LOGIN
          </button>
        </div>
        <hr>
        <div class="form-group">
          <div class="alert alert-danger" role="alert" *ngIf="f.submitted && isLoginFailed">
            Login failed: {{ errorMessage }}
          </div>
        </div>
      </div>
    </form>


  </div>
</form>
<!--finHB-->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel"
  aria-hidden="true">
  <div class="modal-dialog" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Forget password</h5>

      </div>
      <div class="modal-body">
       
        <!-- <div *ngIf="email_section">
              <div class="modal-body">
                <form [formGroup]="email_group">
                  <div><label class="labels">Email</label>
                    <input type="email" id="email" placeholder="enter your email" class="form-control"
                      formControlName="email_filed" required>
                  </div>
                </form>
              </div>
              <div class="modal-footer">
                <button type="button" (click)="close_1" class="btn btn-secondary" data-dismiss="modal">Close</button>
                <button type="button" class="btn btn-primary" (click)="pass()">Pass</button>
              </div>
            </div>
          -->
        <div *ngIf="email_section">
          <div class="modal-body">
            <div><label class="labels">Email</label>
              <input type="email" placeholder="enter your email" class="form-control" [(ngModel)]="email" required>
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" (click)="cancel_change()" class="btn btn-secondary"
              data-dismiss="modal">Close</button>
            <button type="button" id="close" class="btn btn-primary" (click)="pass()">Verify</button>
          </div>
        </div>

        <!--  verify code section begin -->
        <div *ngIf="code_section">
          <div class="modal-body">
            <span class="error" *ngIf="!code_correct">
              Incorrect code
            </span>
            <div><label class="labels">Code </label>
              <input type="text" class="form-control" [(ngModel)]="code" required maxlength="6">
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" (click)="cancel_change()" id="close" class="btn btn-secondary"
              data-dismiss="modal">Close</button>
            <button type="submit" (click)="verif_code()" [disabled]="code.length <6"
              class="btn btn-primary">Change</button>
          </div>
        </div>
        <!--end-->


        <!--  change password section begin-->
        <div *ngIf="password_section">
          <div class="modal-body">
            <div><label class="labels">New password</label>
              <input type="password" class="form-control" id="new_mdp">
            </div>
          </div>

          <div class="modal-body">
            <span class="error" *ngIf="!confirm_password">
              password not match
            </span>
            <div><label class="labels">Confirm password</label>
              <input type="password" class="form-control" id="confirm_mdp">
            </div>
          </div>
          <div class="modal-footer">
            <button type="button" (click)="cancel_change()" class="btn btn-secondary" data-dismiss="modal"
              id="close">Close</button>
            <button type="button" class="btn btn-primary" (click)="change_password()">Change</button>
          </div>
        </div>
        <!--end-->

      </div>
    </div>
  </div>
</div>